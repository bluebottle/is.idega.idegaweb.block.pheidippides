<html
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:c="http://xmlns.idega.com/com.idega.core"
		xmlns:a="http://xmlns.idega.com/is.idega.idegaweb.egov.application"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:p="http://xmlns.idega.com/is.idega.idegaweb.pheidippides"
>
<ui:component>
	<form class="smallAdminForm" id="raceEditorForm" action="" method="post">
		<input type="hidden" name="idegaweb_event_classname" value="#{pheidippidesBean.eventHandler}" />
		<input type="hidden" name="prm_race_pk" value="#{pheidippidesBean.race.id}" />
		<input type="hidden" name="prm_event_pk" value="#{param['prm_event_pk']}" />
		<input type="hidden" name="prm_year" value="#{param['prm_year']}" />
		
		<fieldset>
			<legend><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['create_race']}" /></legend>
			
			<div class="formItem">
				<label><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['event']}" /></label>
				<span><h:outputText value="#{pheidippidesBean.event.name}" /></span>
			</div>
			<div class="formItem">
				<label><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['year']}" /></label>
				<span><h:outputText value="#{param['prm_year']}" /></span>
			</div>
			<div class="formItem required">
				<label for="prm_distance_pk"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['distance']}" /></label>
				<c:selectOne name="prm_distance_pk" styleClass="required">
					<ui:repeat value="#{pheidippidesBean.distances}" var="distance">
						<c:selectOption name="#{distance.name}" content="#{distance.id}" selected="#{distance.id eq pheidippidesBean.race.distance.id}" />
					</ui:repeat>
				</c:selectOne>
			</div>
			<div class="formItem required">
				<label for="prm_minimum_age"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['min_age']}" /></label>
				<input type="text" class="required digits" name="prm_minimum_age" value="#{pheidippidesBean.race.minimumAge}" />
			</div>
			<div class="formItem required">
				<label for="prm_maximum_age"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['max_age']}" /></label>
				<input type="text" class="required digits" name="prm_maximum_age" value="#{pheidippidesBean.race.maximumAge}" />
			</div>
			<div class="formItem required">
				<label for="prm_open_registration"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['open_registration']}" /></label>
				<input class="datePicker required" name="prm_open_registration" value="#{p:formatDate(pheidippidesBean.race.openRegistrationDate)}" />
			</div>
			<div class="formItem required">
				<label for="prm_close_registration"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['close_registration']}" /></label>
				<input class="datePicker required" name="prm_close_registration" value="#{p:formatDate(pheidippidesBean.race.closeRegistrationDate)}" />
			</div>
			<div class="formItem">
				<label for="prm_relay_legs"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['relay_legs']}" /></label>
				<input type="text" class="digits" name="prm_relay_legs" value="#{pheidippidesBean.race.numberOfRelayLegs}" />
			</div>
			<div class="formItem checkbox">
				<c:checkBox name="prm_family_discount" content="true" checked="#{pheidippidesBean.race.familyDiscount}" />
				<label for="prm_family_discount"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['family_discount']}" /></label>
			</div>
		</fieldset>
		
		<div class="submit">
			<a href="#" class="close"><span><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['close']}" /></span></a>
			<a href="#" class="store"><span><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['store']}" /></span></a>
		</div>
	</form>
</ui:component>
</html>