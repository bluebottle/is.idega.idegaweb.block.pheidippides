<html
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:c="http://xmlns.idega.com/com.idega.core"
		xmlns:a="http://xmlns.idega.com/is.idega.idegaweb.egov.application"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:p="http://xmlns.idega.com/is.idega.idegaweb.pheidippides"
>
<ui:component>
	<form id="extraInformation" class="userForm" action="" method="post">
		<input type="hidden" name="prm_language" value="#{pheidippidesBean.locale}" />
		<input type="hidden" name="prm_action" value="store" />
		
		<h1><h:outputText escape="false" value="#{localizedStrings['is.idega.idegaweb.pheidippides'][p:concat(pheidippidesBean.event.localizedKey, '.extra_information')]}" /></h1>
	
		<ui:repeat value="#{pheidippidesBean.raceTrinkets}" var="raceTrinket">
			<ui:param value="#{pheidippidesBean.registrationTrinkets[raceTrinket.trinket]}" name="registrationTrinket" />
			
			<fieldset class="formSection trinket">
				<div class="helpText"><h:outputText escape="false" value="#{localizedStrings['is.idega.idegaweb.pheidippides'][p:concat(pheidippidesBean.event.localizedKey, p:concat('.', p:concat(raceTrinket.trinket.localizedKey, '_help')))]}" /></div>
				
				<div class="formItem checkbox">
					<c:checkBox name="#{racePrice.trinket.paramName}" checked="#{not empty registrationTrinket}" />
					<label for="#{racePrice.trinket.paramName}"><h:outputText escape="false" value="#{localizedStrings['is.idega.idegaweb.pheidippides'][p:concat(pheidippidesBean.event.localizedKey, p:concat('.', raceTrinket.trinket.localizedKey))]}" /></label>
				</div>
				
				<ui:fragment rendered="#{raceTrinket.trinket.multiple}">
					<div class="formItem required">
						<label for="#{p:concat(racePrice.trinket.paramName, '_count')}"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides'][p:concat(pheidippidesBean.event.localizedKey, p:concat('.', p:concat(raceTrinket.trinket.localizedKey, '_count')))]}" /></label>
						<input type="text" class="required" name="#{p:concat(racePrice.trinket.paramName, '_count')}" value="#{registrationTrinket.count}" />
					</div>
				</ui:fragment>
			</fieldset>
		</ui:repeat>
		
		<fieldset class="formSection estimated">
			<div class="helpText"><h:outputText escape="false" value="#{localizedStrings['is.idega.idegaweb.pheidippides'][p:concat(pheidippidesBean.event.localizedKey, '.estimated_time_help')]}" /></div>

			<div class="formItem">
				<label for="prm_estimated_time"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides'][p:concat(pheidippidesBean.event.localizedKey, '.estimated_time')]}" /></label>
				<c:textInput name="prm_estimated_time" styleClass="required" content="#{p:formatDate(pheidippidesBean.registration.estimatedTime, 'HH:mm')}" />
			</div>
		</fieldset>

		<fieldset class="formSection comment">
			<div class="helpText"><h:outputText escape="false" value="#{localizedStrings['is.idega.idegaweb.pheidippides'][p:concat(pheidippidesBean.event.localizedKey, '.comment_help')]}" /></div>

			<div class="formItem">
				<label for="prm_comment"><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides'][p:concat(pheidippidesBean.event.localizedKey, '.comment')]}" /></label>
				<c:textArea name="prm_comment" content="#{pheidippidesBean.registration.comment}" />
			</div>
		</fieldset>

		<div class="submit">
			<a href="#" class="store"><span><h:outputText value="#{localizedStrings['is.idega.idegaweb.pheidippides']['store']}" /></span></a>
		</div>
	</form>
</ui:component>
</html>